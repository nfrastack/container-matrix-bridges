#!/command/with-contenv bash

FACEBOOK_LISTEN_PORT=${FACEBOOK_LISTEN_PORT:-"29319"}
#
FACEBOOK_BRIDGE_BACKFILL_CATCHUP_FETCH_PAGES=${FACEBOOK_BRIDGE_BACKFILL_CATCHUP_FETCH_PAGES:-"0"}
FACEBOOK_BRIDGE_BACKFILL_ENABLED=${FACEBOOK_BRIDGE_BACKFILL_ENABLED:-"TRUE"}
FACEBOOK_BRIDGE_BACKFILL_HISTORY_FETCH_PAGES=${FACEBOOK_BRIDGE_BACKFILL_HISTORY_FETCH_PAGES:-"0"}
FACEBOOK_BRIDGE_BACKFILL_INBOX_FETCH_PAGES=${FACEBOOK_BRIDGE_BACKFILL_INBOX_FETCH_PAGES:-"0"}
FACEBOOK_BRIDGE_BACKFILL_QUEUE_DONT_FETCH_XMA=${FACEBOOK_BRIDGE_BACKFILL_QUEUE_DONT_FETCH_XMA:-"TRUE"}
FACEBOOK_BRIDGE_BACKFILL_QUEUE_MAX_PAGES=${FACEBOOK_BRIDGE_BACKFILL_QUEUE_MAX_PAGES:-"-1"}
FACEBOOK_BRIDGE_BACKFILL_QUEUE_PAGES_AT_ONCE=${FACEBOOK_BRIDGE_BACKFILL_QUEUE_PAGES_AT_ONCE:-"5"}
FACEBOOK_BRIDGE_BACKFILL_QUEUE_SLEEP_BETWEEN_TASKS=${FACEBOOK_BRIDGE_BACKFILL_QUEUE_SLEEP_BETWEEN_TASKS:-"20s"}
FACEBOOK_BRIDGE_BACKFILL_UNREAD_HOURS_THRESHOLD=${FACEBOOK_BRIDGE_BACKFILL_UNREAD_HOURS_THRESHOLD:-"0"}
FACEBOOK_APPSERVER_ADDRESS=${FACEBOOK_APPSERVER_ADDRESS:-"http://localhost:${FACEBOOK_LISTEN_PORT}"}
FACEBOOK_APPSERVICE_ID=${FACEBOOK_APPSERVICE_ID:-"facebook"}
FACEBOOK_BOT_AVATAR=${FACEBOOK_BOT_AVATAR:-"mxc://maunium.net/ygtkteZsXnGJLJHRchUwYWak"}
FACEBOOK_BOT_DISPLAYNAME=${FACEBOOK_BOT_DISPLAYNAME:-"Facebook bridge bot"}
FACEBOOK_BOT_USERNAME=${FACEBOOK_BOT_USERNAME:-"facebookbot"}
FACEBOOK_BRIDGE_NOTICES=${FACEBOOK_BRIDGE_NOTICES:-"TRUE"}
FACEBOOK_CAPTION_IN_MESSAGE=${FACEBOOK_CAPTION_IN_MESSAGE:-"FALSE"}
FACEBOOK_COMMAND_PREFIX=${FACEBOOK_COMMAND_PREFIX:-"!fb"}
FACEBOOK_CONFIGURE_BRIDGE=${FACEBOOK_CONFIGURE_BRIDGE:-"TRUE"}
FACEBOOK_CONFIG_FILE=${FACEBOOK_CONFIG_FILE:-"facebook.yaml"}
FACEBOOK_CONFIG_PATH=${FACEBOOK_CONFIG_PATH:-"${CONFIG_PATH}"}
FACEBOOK_DATA_PATH=${FACEBOOK_DATA_PATH:-"${DATA_PATH}/facebook/"}
FACEBOOK_DB_MAX_IDLE_CONNECTIONS=${FACEBOOK_DB_MAX_IDLE_CONNECTIONS:-"2"}
FACEBOOK_DB_MAX_OPEN_CONNECTIONS=${FACEBOOK_DB_MAX_OPEN_CONNECTIONS:-"20"}
FACEBOOK_DB_PORT=${FACEBOOK_DB_PORT:-"5432"}
FACEBOOK_DB_SQLITE_FILE=${FACEBOOK_DB_SQLITE_FILE:-"facebook.db"}
FACEBOOK_DB_SQLITE_PATH=${FACEBOOK_DB_SQLITE_PATH:-"${DB_SQLITE_PATH}"}
FACEBOOK_DB_SSL_MODE=${FACEBOOK_DB_SSL_MODE:-"DISABLE"}
FACEBOOK_DB_TYPE=${FACEBOOK_DB_TYPE:-"SQLITE"}
FACEBOOK_DISABLE_BRIDGE_NOTICES=${FACEBOOK_DISABLE_BRIDGE_NOTICES:-"FALSE"}
FACEBOOK_DOUBLE_PUPPET_ALLOW_DISCOVERY=${FACEBOOK_DOUBLE_PUPPET_ALLOW_DISCOVERY:-"FALSE"}
FACEBOOK_ENABLE_ASYNC_TRANSACTIONS=${FACEBOOK_ENABLE_ASYNC_TRANSACTIONS:-"FALSE"}
FACEBOOK_ENABLE_DELIVERY_RECEIPTS=${FACEBOOK_ENABLE_DELIVERY_RECEIPTS:-"FALSE"}
FACEBOOK_ENABLE_EPHEMERAL_EVENTS=${FACEBOOK_ENABLE_EPHEMERAL_EVENTS:-"TRUE"}
FACEBOOK_ENABLE_MESSAGE_ERROR_NOTICES=${FACEBOOK_ENABLE_MESSAGE_ERROR_NOTICES:-"TRUE"}
FACEBOOK_ENABLE_MESSAGE_STATUS_EVENTS=${FACEBOOK_ENABLE_MESSAGE_STATUS_EVENTS:-"FALSE"}
FACEBOOK_ENCRYPTION_ALLOW=${FACEBOOK_ENCRYPTION_ALLOW:-"FALSE"}
FACEBOOK_ENCRYPTION_ALLOW_KEY_SHARING=${FACEBOOK_ENCRYPTION_ALLOW_KEY_SHARING:-"FALSE"}
FACEBOOK_ENCRYPTION_APPSERVICE=${FACEBOOK_ENCRYPTION_APPSERVICE:-"FALSE"}
FACEBOOK_ENCRYPTION_DEFAULT=${FACEBOOK_ENCRYPTION_DEFAULT:-"FALSE"}
FACEBOOK_ENCRYPTION_REQUIRE=${FACEBOOK_ENCRYPTION_REQUIRE:-"FALSE"}
FACEBOOK_ENCRYPTION_ROTATION_ENABLE_CUSTOM=${FACEBOOK_ENCRYPTION_ROTATION_ENABLE_CUSTOM:-"FALSE"}
FACEBOOK_ENCRYPTION_ROTATION_MESSAGES=${FACEBOOK_ENCRYPTION_ROTATION_MESSAGES:-"100"}
FACEBOOK_ENCRYPTION_ROTATION_MILLISECONDS=${FACEBOOK_ENCRYPTION_ROTATION_MILLISECONDS:-"604800000"}
FACEBOOK_ENCRYPTION_VERIFY_LEVELS_RECEIVE=${FACEBOOK_ENCRYPTION_VERIFY_LEVELS_RECEIVE:-"unverified"}
FACEBOOK_ENCRYPTION_VERIFY_LEVELS_SEND=${FACEBOOK_ENCRYPTION_VERIFY_LEVELS_SEND:-"unverified"}
FACEBOOK_ENCRYPTION_VERIFY_LEVELS_SHARE=${FACEBOOK_ENCRYPTION_VERIFY_LEVELS_SHARE:-"cross-signed-tofu"}
FACEBOOK_FEDERATE_ROOMS=${FACEBOOK_FEDERATE_ROOMS:-"TRUE"}
FACEBOOK_HOMESERVER_ADDRESS=${FACEBOOK_HOMESERVER_ADDRESS:-"${HOMESERVER_ADDRESS}"}
FACEBOOK_HOMESERVER_DOMAIN=${FACEBOOK_HOMESERVER_DOMAIN:-"${HOMESERVER_DOMAIN}"}
FACEBOOK_HOMESERVER_ENABLE_ASYNC_UPLOADS=${FACEBOOK_HOMESERVER_ENABLE_ASYNC_UPLOADS:-"${HOMESERVER_ENABLE_ASYNC_UPLOADS}"}
FACEBOOK_HOMESERVER_PING_INTERVAL=${FACEBOOK_HOMESERVER_PING_INTERVAL:-"0"}
FACEBOOK_HOMESERVER_SOFTWARE=${FACEBOOK_HOMESERVER_SOFTWARE:-"${HOMESERVER_SOFTWARE}"}
FACEBOOK_HOMESERVER_STATUS_ENDPOINT=${FACEBOOK_HOMESERVER_STATUS_ENDPOINT:-"null"}
FACEBOOK_LISTEN_IP=${FACEBOOK_LISTEN_IP:-"0.0.0.0"}
FACEBOOK_LOG_FILE=${FACEBOOK_LOG_FILE:-"facebook.log"}
FACEBOOK_LOG_LEVEL=${FACEBOOK_LOG_LEVEL:-"${LOG_LEVEL}"}
FACEBOOK_LOG_PATH=${FACEBOOK_LOG_PATH:-"${LOG_PATH}"}
FACEBOOK_LOG_TYPE=${FACEBOOK_LOG_TYPE:-"${LOG_TYPE}"}
FACEBOOK_MANAGEMENT_ROOM_TEXT_ADDITIONAL_HELP=${FACEBOOK_MANAGEMENT_ROOM_TEXT_ADDITIONAL_HELP:-""}
FACEBOOK_MANAGEMENT_ROOM_TEXT_WELCOME=${FACEBOOK_MANAGEMENT_ROOM_TEXT_WELCOME:-"Hello, I'm a Facebook bridge bot."}
FACEBOOK_MANAGEMENT_ROOM_TEXT_WELCOME_CONNECTED=${FACEBOOK_MANAGEMENT_ROOM_TEXT_WELCOME_CONNECTED:-"Hello, I'm a Facebook bridge bot."}
FACEBOOK_MANAGEMENT_ROOM_TEXT_WELCOME_UNCONNECTED=${FACEBOOK_MANAGEMENT_ROOM_TEXT_WELCOME_UNCONNECTED:-"Use \`help\` for help or \`login\` to log in."}
FACEBOOK_MUTE_BRIDGING=${FACEBOOK_MUTE_BRIDGING:-"on-create"}
FACEBOOK_PERMISSIONS_ADMIN=${FACEBOOK_PERMISSIONS_ADMIN:-"@admin:example.com"}
FACEBOOK_PERMISSIONS_RELAY=${FACEBOOK_PERMISSIONS_RELAY:-"*"}
FACEBOOK_PERMISSIONS_USER=${FACEBOOK_PERMISSIONS_USER:-"example.com"}
FACEBOOK_PERSONAL_FILTERING_SPACES=${FACEBOOK_PERSONAL_FILTERING_SPACES:-"FALSE"}
FACEBOOK_PORTAL_MESSAGE_BUFFER=${FACEBOOK_PORTAL_MESSAGE_BUFFER:-"128"}
FACEBOOK_PRIVATE_CHAT_PORTAL_META=${FACEBOOK_PRIVATE_CHAT_PORTAL_META:-"default"}
FACEBOOK_REGENERATE_REGISTRATION=${FACEBOOK_REGENERATE_REGISTRATION:-"FALSE"}
FACEBOOK_REGISTRATION_FILE=${FACEBOOK_REGISTRATION_FILE:-"facebook-registration.yaml"}
FACEBOOK_REGISTRATION_PATH=${FACEBOOK_REGISTRATION_PATH:-"${REGISTRATION_PATH}"}
FACEBOOK_RESEND_BRIDGE_INFO=${FACEBOOK_RESEND_BRIDGE_INFO:-"FALSE"}
FACEBOOK_SYNC_DIRECT_CHAT_LIST=${FACEBOOK_SYNC_DIRECT_CHAT_LIST:-"FALSE"}
FACEBOOK_TEMPLATE_DISPLAYNAME=${FACEBOOK_TEMPLATE_DISPLAYNAME:-"{displayname} (FB)"}
FACEBOOK_TEMPLATE_USERNAME=${FACEBOOK_TEMPLATE_USERNAME:-"facebook_{userid}"}